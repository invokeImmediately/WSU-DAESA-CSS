/** ────────────────────────────────────────────────────────────────────────────────────────────────
*** ▄▀▀▄ ▄▀▀▀ ▀█▀ █▀▀▄ █▀▀▀   █    █▀▀▀ ▄▀▀▀ ▄▀▀▀
*** █▄▄█ ▀▀▀█  █  █  █ █▀▀    █  ▄ █▀▀  ▀▀▀█ ▀▀▀█
*** █  ▀ ▀▀▀  ▀▀▀ ▀▀▀  ▀▀▀▀ ▀ ▀▀▀  ▀▀▀▀ ▀▀▀  ▀▀▀
***
*** Involves styles for aside elements on the websites of the WSU Division of Academic Engagement
***   and Student Achievement built using the Spine parent theme of WSUWP. Styles are designed to
***   accompany or supersede the theme's styling via application to the site using the CSS
***   Stylesheet Editor, set to add-on mode, in the WordPress administration area.
***
*** @version 1.0.0
***
*** @link https://github.com/invokeImmediately/WSU-DAESA-CSS/blob/master/Spine-Theme/aside.less
*** @author Daniel Rieck [daniel.rieck@wsu.edu] (https://github.com/invokeImmediately)
*** @license MIT Copyright (c) 2021 Washington State University
***   Permission is hereby granted, free of charge, to any person obtaining a copy of this software
***     and associated documentation files (the "Software"), to deal in the Software without
***     restriction, including without limitation the rights to use, copy, modify, merge, publish,
***     distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom
***     the Software is furnished to do so, subject to the following conditions:
***   The above copyright notice and this permission notice shall be included in all copies or
***     substantial portions of the Software.
***   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
***     BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
***     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
***     CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
***     ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
***     SOFTWARE.
*** ────────────────────────────────────────────────────────────────────────────────────────────────
**/

/*  ┌────────────────────────────────────────────────────────────────────────────────────────────┐
**  │ FILENAME:                                                                        │
**  │                                                                                            │
**  │ AUTHOR: Daniel Rieck <daniel.rieck@wsu.edu> (https://github.com/invokeImmediately)         │
**  │                                                                                            │
**  │ DESCRIPTION: Involves styles for aside elements of WSU Office of Undergraduate Education web pages built using the builder template of the Spine parent theme of WSUWP. Styles    │
**  │   are designed to accompany or supersede styling associated with the theme.                │
**  └────────────────────────────────────────────────────────────────────────────────────────────┘
*/

/*  ================================================================================================
**  SEMANTIC CSS FOR STYLING OUE ASIDE ELEMENTS
*/

// TODO: Add table of contents

@oue-aside-ruleset: {
	// TODO: Clean up code
	aside {
		&.shield-themed {
			// Settings
			@spacing: @v-dflt-spcng / 4;
			@content-spacing: 1em;
			@header-padding: @spacing;
			@border-width: 4px;
			@text-color: @hex-darker-gray;
			@font-sizing: 0.925rem;
			
			//Layout
			padding: @spacing;
			border-left: @border-width solid @hex-gray;
			background: @hex-bright-gray;
			color: @text-color;
			font-size: @font-sizing;
			&.floats-left {
				float: left;
			}
			&.floats-right {
				float: right;
			}
			&.floats-left,
			&.floats-right {
				@media all and (min-width: (@column-floating-threshold + 1)) {
					width: 33.3333%;
				}
			}
			& > h1:first-child,
			& > h2:first-child,
			& > h3:first-child,
			& > h4:first-child,
			& > h5:first-child,
			& > h6:first-child,
			& > header:first-child > * {
				box-sizing: content-box;
				width: 100%;
				padding: @header-padding;
				margin-top: (-1 * @spacing);
				margin-left: (-1 * @spacing);
				margin-bottom: @spacing;
				background-color: @hex-crimson;
				color: @hex-white;
			}
			p {
				& + * {
					margin-top: @content-spacing;
				}
				& + .has-learn-more-link {
					margin-top: (@content-spacing / 3);
				}
			}
			&:not(:last-child) {
				margin-bottom: @v-dflt-spcng;
			}
		}

		.column &.article-sidebar {
			background: @hex-bright-orange;
			border: 1px solid #6d441f;
			box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
			color: #464e54;
			float: right;
			font-size: .8rem;
			margin-bottom: 1rem;
			margin-left: 1rem;
			min-width: 230px;
			padding: .8rem;
			width: 33%;

			&:first-child + h1,
			&:first-child + h2,
			&:first-child+h3,
			&:first-child+h4 {
				margin-top: 0;
			}

			p, ol, ul {
				font-size: inherit;
				line-height: normal;
			}

			p {
				text-align: left;

				&:not(:last-child) {
						margin-bottom: 0.8rem;
				}
			}

			ol, ul {
				padding-bottom: 0;
			}

			h2 + hr {
				background-color: rgba(70,78,84,0.75);
				margin-top: .25rem;
			}

			h3 {
				font-size: 1.275rem;
				margin-bottom: 0;
				margin-top: 1.2rem;

				&:first-child {
					margin-top: 0;
				}
			}

			h4 {
				font-size: 1.05rem;

				&:first-child {
					margin-top: 0;
				}
			}
		}
		.row.single .column &.article-sidebar {
			// TODO: add meqia queries to reduce margins as screen size gets smaller
			// TODO: add inclusional mixin support for arrow indicator icons
			@media all {
				@media (max-width: (@column-floating-threshold)) {
					position: absolute;
					right: -2rem;
					top: 0px;
					width: 230px;
					.transform-origin(100%, 0%);
					.transform(~"rotate(-90deg) translateY(-2rem)");
					.transition(~"transform .25s ease-out");
					z-index: 99352;

					&:hover {
						.transform(~"none");
					}
				}
			}
		}
		body.single-post #wsuwp-main .row .column.one &,
		.column > &.quote {
			@spacing: @v-dflt-spcng / 4;
			float: right;
			clear: right;
			padding: @spacing;
			margin-left: @spacing;
			border-left: 4px solid @hex-light-gray;
			background: @hex-lighter-gray;
			font-size: 0.9rem;
			&.full-width {
				width: 94%;
				width: ~"calc(100% - @{spacing} * 2)";
				margin-top: @spacing * 2;
				margin-bottom: @spacing * 4;
			}
			&:not(.full-width) {
				width: 33%;
				margin-top: @spacing;
				margin-bottom: @spacing;
				@media all {
					@media (max-width: (@column-floating-threshold)) {
						width: 94%;
						width: ~"calc(100% - @{spacing} * 2)";
						margin-top: @spacing * 2;
						margin-bottom: @spacing * 4;
					}
				}
			}
			& > h2:first-child,
			& > h3:first-child,
			& > h4:first-child {
				padding: @spacing;
				margin: (-1 * @spacing);
				background-color: @hex-crimson;
				color: @hex-white;
				& + * {
					margin-top: (@spacing * 2);
				}
			}
		}
		body.blog .article-summary & {
			display: none;
		}
	}
};

.declare-ruleset(@oue-aside-ruleset, @oue-rules-wrapper);
