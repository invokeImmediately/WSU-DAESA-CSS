/** ────────────────────────────────────────────────────────────────────────────────────────────────
*** █  █ █▀▀▀ ▄▀▀▄ █▀▀▄ ▀█▀ ▐▀▀▄ █▀▀▀ ▄▀▀▀   █    █▀▀▀ ▄▀▀▀ ▄▀▀▀
*** █▀▀█ █▀▀  █▄▄█ █  █  █  █  ▐ █ ▀▄ ▀▀▀█   █  ▄ █▀▀  ▀▀▀█ ▀▀▀█
*** █  ▀ ▀▀▀▀ █  ▀ ▀▀▀  ▀▀▀ ▀  ▐ ▀▀▀▀ ▀▀▀  ▀ ▀▀▀  ▀▀▀▀ ▀▀▀  ▀▀▀
***
*** Contains style rules for presenting headings on WSU websites created using the Spine parent
***   theme of WSUWP. Styles are designed to accompany or supersede the theme's stylesheet via
***   application to the site using the CSS Stylesheet Editor, set to add-on mode, in the WordPress
***   administration area.
***
*** @version 1.0.0
***
*** @link https://github.com/invokeImmediately/WSU-DAESA-CSS/blob/master/Spine-Theme/headings.less
*** @author Daniel Rieck [daniel.rieck@wsu.edu] (https://github.com/invokeImmediately)
*** @license MIT Copyright (c) 2021 Washington State University
***   Permission is hereby granted, free of charge, to any person obtaining a copy of this software
***     and associated documentation files (the "Software"), to deal in the Software without
***     restriction, including without limitation the rights to use, copy, modify, merge, publish,
***     distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom
***     the Software is furnished to do so, subject to the following conditions:
***   The above copyright notice and this permission notice shall be included in all copies or
***     substantial portions of the Software.
***   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
***     BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
***     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
***     CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
***     ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
***     SOFTWARE.
*** ────────────────────────────────────────────────────────────────────────────────────────────────
***  TABLE OF CONTENTS:
***  ────────────────────────────────────────────────────────────────────────────────────────────
***  §1: h2 elements...........................................................................49
***  §2: h3 elements..........................................................................110
***  §3: hN elements..........................................................................154
***  §4: Utility class compatible defaults....................................................175
***    >>> §4.1: Font family and weight, plus spacing.........................................179
***    >>> §4.2: Font sizing..................................................................199
***    >>> §4.3: Line heights.................................................................228
***    >>> §4.4: Coloring.....................................................................245
***       →→→ §4.4a: Defaults.................................................................249
***       →→→ §4.4b: Utility classes..........................................................342
***    >>> §4.5: Indentation..................................................................461
*** ────────────────────────────────────────────────────────────────────────────────────────────────
**/

@oue-heading-ruleset: {

/** ================================================================================================
*** §1: h2 elements
**/

	h2 {
		.column & {
			&.article-title {
				font-size: @v-h2-sz * 0.4;
				line-height: @v-hX-lnhght;
			}
		}

		.column h1 + & {
			font-style: italic;
		}

		.column hr:not(.subSection) + h2 {
			margin-top: 0;
		}
	}

	// TODO: move to hyperlink.less
	h2.article-title a {
		border-bottom: none;
	}

/** ================================================================================================
*** §2: h3 elements
**/

	h3 {
		.column.show-header.has-lowercase-header > header:first-child > & {
			text-transform: none;
		}
	}

/** ================================================================================================
*** §3: hN elements
**/

	section {
		&.side-right, &.row.side-right {
			.column.one h2.fancy,
			.column.one h3.fancy {
				@media all and (min-width: (@column-floating-threshold + 1)) {
					margin-right: 0;
				}
			}
		}
	}

	.hN--subtitle {
		display: block;
		.font-size(@fSize-600mx);
		.line-height(@lHeight-933mx);
	}

/** ================================================================================================
*** §4: Utility-class compatible defaults
**/

/**   ----------------------------------------------------------------------------------------------
***   >>> §4.1: Font family and weight, plus spacing
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		.ff--sans-2;
		font-weight: 600;
		margin: 0;
		padding: 0;

		* + & {
			.margins-rem(@rem-spacing-2000mx, "top");
		}
	}

	h1 {
		font-weight: 800;
	}

	h2 {
		font-weight: 700;
	}


/**   ----------------------------------------------------------------------------------------------
***   >>> §4.2: Font sizing
**/

	// @hN-font-size variables defined in utility-mixins.less
	h1 {
		font-size: @v-h1-sz;
	}

	h2 {
		font-size: @v-h2-sz;
	}

	h3 {
		font-size: @v-h3-sz;
	}

	h4 {
		font-size: @v-h4-sz;
	}

	h5 {
		font-size: @v-h5-sz;
	}

	h6 {
		font-size: @v-h6-sz;
	}

/**   ----------------------------------------------------------------------------------------------
***   >>>§4.3: Line heights
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		.line-height(@lHeight-733mx);

		&.linked-text {
			.line-height(@lHeight-933mx);
		}
	}

/**   ----------------------------------------------------------------------------------------------
***   >>> §4.4: Coloring
**/

/**     ························································································
***      └> §4.4.1: Defaults
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		color: @hex-darkest-gray;
	}

	h1 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-black, 0.9); }
			&{ background: linear-gradient(to right, rgba(@rval, @gval, @bval, 0.8) 50%, 
					rgba(@rval, @gval, @bval, 1));
				.rgb-black(); }
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-black, 0.333); }
			color: @hex-white;

			&::before {
				border-top: 2px solid rgba(@rval, @gval, @bval,1);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.5);
				.rgb-black();
			}
		}
	}

	h2 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-crimson, 0.9); }
			background: linear-gradient(to right, @hex-crimson 50%, @hex-dark-crimson);
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-dark-crimson, 0.5); }
			color: @hex-white;

			&::before {
				border-bottom: 1px solid rgba(@rval, @gval, @bval,0.5);
				border-top: 2px solid rgba(@rval, @gval, @bval, 1);
				.rgb-dark-crimson();
			}
		}
	}

	h3 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-light-crimson, 0.075); }
			&{ background: linear-gradient(to right,
					transparent,
					rgba(@rval, @gval, @bval, 0.075) 5%,
					rgba(@rval, @gval, @bval, 0.075) 50%,
					rgba(@rval, @gval, @bval, 0.225));
				.rgb-light-crimson(); }
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-light-crimson, 0.075); }
			color: @hex-crimson;

			&::before {
				.rgb-crimson();
				border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
			}
		}
	}

	h4 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-dark-gray, 0.2); }
			&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
					0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
					0.225));
				.rgb-dark-gray(); }
			& { border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-dark-gray, 0.075); }
			color: @hex-darker-gray;

			&::before {
				.rgb-darker-gray();
				border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
			}
		}
	}

// TODO: Apply default coloring styles to h5 and h6

/**     ························································································
***      └> §4.4.2: Utility classes
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		&.solid {
			padding: .28em .25em .2em 5px;
			position: relative;

			&::before {
				content: "";
				height: 100%;
				left: 0;
				position: absolute;
				top: 0;
				width: 100%;
			}
		}

		&.white-text {
			color: @hex-white;
			&.solid,
			&.solid.black-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-black, 0.9); }
				&{ background: linear-gradient(to right, rgba(@rval, @gval, @bval, 0.8) 50%, 
						rgba(@rval, @gval, @bval, 1));
					.rgb-black(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-black, 0.333); }

				&::before {
					border-bottom: 1px solid @hex-black;
					border-top: 2px solid @hex-black;
				}
			}

			&.solid.dark-crimson-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-crimson-scale-darker, 0.9); }
				background: linear-gradient(to right, 
					@hex-crimson-scale-darker 50%, 
					@hex-darker-crimson);
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-darker-crimson, 0.5); }

				&::before {
					border-bottom: 1px solid rgba(@rval, @gval, @bval,0.5);
					border-top: 2px solid rgba(@rval, @gval, @bval, 1);
					.rgb-darker-crimson();
				}
			}

			&.solid.crimson-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-crimson, 0.9); }
				background: linear-gradient(to right, @hex-crimson 50%, @hex-dark-crimson);
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-dark-crimson, 0.5); }

				&::before {
					border-bottom: 1px solid @hex-dark-crimson;
					border-top: 2px solid @hex-dark-crimson;
				}
			}
		}

		&.gray-text {
			color: @hex-darker-gray;

			&.solid {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-dark-gray, 0.2); }
				&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
						0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
						0.225));
					.rgb-dark-gray(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-dark-gray, 0.075); }

				&::before {
					.rgb-darker-gray();
					border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
					border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
				}
			}
		}

		&.crimson-text {
			color: @hex-crimson;

			&.solid {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-light-crimson, 0.075); }
				&{ background: linear-gradient(to right,
						transparent,
						rgba(@rval, @gval, @bval, 0.075) 5%,
						rgba(@rval, @gval, @bval, 0.075) 50%,
						rgba(@rval, @gval, @bval, 0.225));
					.rgb-light-crimson(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-light-crimson, 0.075); }

				&::before {
					.rgb-crimson();
					border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
					border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
				}
			}
		}
	}

// TODO: Create additional coloring classes

/**   ----------------------------------------------------------------------------------------------
***   >>> §4.5: Indentation
**/

	.hX--indent-1 {
		max-width: ~"calc(100% - 2rem)";
	}

	.hX--indent-2 {
		max-width: ~"calc(100% - 4rem)";
	}

	.hX--indent-3 {
		max-width: ~"calc(100% - 6rem)";
	}
};

.declare-ruleset(@oue-heading-ruleset, @oue-rules-wrapper);
