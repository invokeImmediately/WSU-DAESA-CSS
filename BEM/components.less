/** ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
*** │ FILENAME: components.less                                                                    │
*** │                                                                                              │
*** │ SUMMARY: Less import that contains style rules designed according to component-based         │
*** │  CSS conventions and which are commonly used on all WSU DAESA websites.                      │
*** │                                                                                              │
*** │ AUTHOR: Daniel Rieck <daniel.rieck@wsu.edu> (https://github.com/invokeImmediately)           │
*** │                                                                                              │
*** │ LICENSE: ISC - Copyright (c) 2020 Daniel C. Rieck.                                           │
*** │                                                                                              │
*** │   Permission to use, copy, modify, and/or distribute this software for any purpose with or   │
*** │   without fee is hereby granted, provided that the above copyright notice and this           │
*** │   permission notice appear in all copies.                                                    │
*** │                                                                                              │
*** │   THE SOFTWARE IS PROVIDED "AS IS" AND DANIEL C. RIECK DISCLAIMS ALL WARRANTIES WITH REGARD  │
*** │   THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT │
*** │   SHALL DANIEL C. RIECK BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL        │
*** │   DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN  │
*** │   AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN           │
*** │   CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.                                   │
*** └──────────────────────────────────────────────────────────────────────────────────────────────┘
**/

/** ================================================================================================
*** OUE COMPONENT-BASED CSS
**/

/**  ───────────────────────────────────────────────────────────────────────────────────────────────
***  TABLE OF CONTENTS:
***  ────────────────────────────────────────────────────────────────────────────────────────────
***  §1: Card styling..........................................................................44
***  §2: Page headers..........................................................................73
***  §3: On this page.........................................................................159
***  §4: Hero containers (inspired by Rainier theme)..........................................333
***  §5: Breadcrumb link lists................................................................421
***  §6: Arrowed bullet lists.................................................................452
***  §7: Text lists...........................................................................474
***  ───────────────────────────────────────────────────────────────────────────────────────────────
**/

@oue-components-ruleset: {

/** ================================================================================================
*** §1: Card styling
**/

	.style--card,
	.daesa-card {
		.style--card--flat__();
	}

	.style--card--raised,
	.daesa-card--raised {
		.style--card--raised__();
	}

	.style--card__title,
	.daesa-card__title {
		.style--card__title__();
	}

	.style--card__sub-title,
	.daesa-card__sub-title {
		.style--card__sub-title__();
	}

	.style--card__title + .style--card__sub-title,
	.daesa-card__title + .daesa-card__sub-title {
		.margin(@mSize-0mx, "top")
	}

/** ================================================================================================
*** §2: Page headers
**/

	@page-header__bg-color: rgba(red(extract(@colors--grays__hex, @colors__darkest)), green(extract(@colors--grays__hex, @colors__darkest)), blue(extract(@colors--grays__hex, @colors__darkest)), 0.9);
	@page-header__fg-color: extract(@colors--grays__hex, @colors__accent);

	.page-header {
		height: 230px;
		position: relative;
		width: 100%;
		background-position: center center;
		background-size: auto 100%;
	}

	.page-header--h-450px {
		height: 450px;
	}

	.page-header--h-auto {
		height: auto;
	}

	.page-header__column-1 {
		background-color: @page-header__bg-color;
		box-sizing: border-box;
		color: @page-header__fg-color;
		display: block;
		left: extract(@rem-mSize-array, @rem-mSize-1000mx);
		margin: 0;
		padding: extract(@pSize-array--rem, @pSize-500mx--rem);
		right: extract(@rem-mSize-array, @rem-mSize-1000mx);
		top: 50%;
		text-shadow: 1px 1px 8px @page-header__bg-color;
		.transform(~"translateY(-50%)");
		width: auto !important;

		.declare-mobile-layout(
			{
				left: extract(@rem-mSize-array, @rem-mSize-500mx);
				right: extract(@rem-mSize-array, @rem-mSize-500mx);
			},
			{
				left: extract(@rem-mSize-array, @rem-mSize-250mx);
				right: extract(@rem-mSize-array, @rem-mSize-250mx);				
			}
		);
	}

	.page-header__column-1--tx-bottom {
		top: 100%;		
		.transform(~"translateY(-100%)");
	}

	.page-header .page-header__column-1 {
		position: absolute;
	}

	.page-header .page-header__column-1--p-static {
		left: 0;
		position: static;
		right: 0;
		top: 0;
		.transform(~"none");
	}

	.fluid .row.single .column.page-header__column-1--p-static {
		width: 100% !important;
	}

	.fluid .row.single 

	.page-header__text-breadcrumb,
	.page-header__text-title,
	.page-header__text-subtitle {
		color: inherit;
		text-shadow: inherit;
	}

	.h1-header__text-breadcrumb {
		display: block;
		font-size: 1rem;
		line-height: 1rem;
	}


/** ================================================================================================
*** §3: On this page
**/

	@otp__clr--bg: #e4e6e7;
	@otp__clr--item-bg: extract(@colors--grays__hex, @colors__dark);
	@otp__clr--heading-bg: #2f3438;
	@otp__clr--border: extract(@colors--grays__hex, @colors__lightish);
	@otp__clr--item-ol: black;
	@otp__clr--border-hl: extract(@colors--grays__hex, @colors__accent);
	@otp__clr--highlight: #23272a;
	@otp__clr--crimson: #54464e;
	@otp__clr--crimson-hl: extract(@colors--crimsons__hex, @colors__darkest);
	@otp__w-border: 8px;
	@otp__w-gap: 14px;

	.on-this-page {
		padding-bottom: .75em;

		&:not(.on-this-page--colored) {
			background-color: @otp__clr--bg;
		}

		&.single .column {
			float: left !important;
		}
	}

	.on-this-page__heading {
		:not(.on-this-page--colored) & {
			color: @otp__clr--heading-bg;
		}

		font-size: (@default-spacing * .85);
		padding-bottom: (@default-spacing / 3);
	}

	.on-this-page__menu {
		background-color: inherit;
		list-style-type: none;
		margin: 0 !important;
		padding: 0;
	}

	.on-this-page__menu-item {
		float: left;
		list-style-image: none !important;
		margin-right: -1px !important;
		margin-top: -1px !important;
		padding: 0;

		a {
			background-color: @otp__clr--item-bg;
			border: 1px solid @otp__clr--border;
			border-radius: 3px;
			box-shadow: none;
			color: white;
			display: inline-block;
			padding: 5px 12px;
			text-align: center;

			&:focus,
			&:hover {
				background-color: @otp__clr--highlight;
				border-color: @otp__clr--border-hl;
				border-width: 1px;
				text-decoration: underline;
			}

			@media all and (max-width: @tablet-screen-width) {
				padding: 4px 10px;
				font-size: 0.85em;
			}
		}

		&.--crimson,
		&.menu-item--crimson
		 {
			a {
				background-color: @otp__clr--crimson;

				&:focus,
				&:hover {
					background-color: @otp__clr--crimson-hl;
				}					
			}
		}

		&.--related,
		&.menu-item--related {
			a {
				position: relative;
				margin-right: 5px;
			}

			a::before,
			a::after {
				content: "";
				border-top: 3px solid @otp__clr--border;
				position: absolute;
				top: 50%;
				width: 5px;
			}

			a::before {
				right: 0;
				transform: translateX(5px);
			}

			a::after {
				left: 0;
				transform: translateX(-5px);
			}

			&.--start,
			&.menu-item--start {
				a::after {
					content: none;
				}
			}

			&.--end,
			&.menu-item--end {
				a::before {
					content: none;
				}
			}
		}

		&.--shifted,
		&.menu-item--shifted {
			margin-left: @otp__w-gap;
		}

		&.--shifts-next,
		&.menu-item--shifts-next {
			margin-right: @otp__w-gap !important;
		}
	}

	.on-this-page {
		&.--has-gutter,
		&.on-this-page--has-gutter {
			padding-bottom: .75em;

			.on-this-page__menu-item {
				margin-top: 0 !important;
				margin-bottom: .75em !important;
			}
		}
	}

	.on-this-page__back {
		position: relative;
		padding-left: 1rem;
		font-size: 0.9em;

		&::before {
			content: "";
			position: absolute;
			width: 1rem;
			left: -3px;
			height: .9rem;
			background: url(https://s3.wp.wsu.edu/uploads/sites/50/2017/10/micon_returnKey_rotated-90-deg-cw_54x64.png) center center/auto 100% no-repeat;
		}
	}

	.on-this-page__back--add-icon(@icon-url) {
		.on-this-page__back::before {
			background: @icon-url center center/auto 100% no-repeat;
		}
	};


/** ================================================================================================
*** §4: Hero containers (inspired by Rainier theme)
**/

	@hero-block-rs: {
		@fg-color-1: #a60e2d;
		@fg-color-2: #7db9e8;

		.hero-container {
			background-color: @fg-color-1;
			background-position: center;
			position: relative;

			&:after,
			&:before {
				content: "";
				display: block;
				height: 100%;
				left: 0;
				position: absolute;
				top: 0;
				width: 100%;
				z-index: 1;
			}

			&:after {
				background: linear-gradient(to right, rgba(red(@fg-color-1),green(@fg-color-1),blue(@fg-color-1),1) 0%, rgba(red(@fg-color-2),green(@fg-color-2),blue(@fg-color-2),0) 100%);
			}

			&:before {
				background: url(https://s3.wp.wsu.edu/uploads/sites/57/2020/02/bg-dots.png) top left repeat;
			}

			&--faded {
				&:after {
					background: linear-gradient(to right, rgba(red(@fg-color-1),green(@fg-color-1),blue(@fg-color-1),50%) 0%, rgba(red(@fg-color-2),green(@fg-color-2),blue(@fg-color-2),0) 100%);
				}
			}
		}

		.hero-container__content {
			align-items: center;
			color: white;
			display: flex;
			padding: 2rem;
			position: relative;
			text-shadow: 1px 2px 2px black;
			z-index: 3;

			&:after,
			&:before {
				opacity: 0;
				position: absolute;
				.transition(~"opacity .4s");
			}

			&:after{
				content: "»";
				color: white;
				font-size: 4rem;
				left: 100%;
				line-height: 1em;
				top: 100%;
				.transform(~"translate(-100%,-100%) translate(-1rem, -.6rem)");
			}

			&:before {
				background: white;
				content: "";
				height: 100%;
				left: 0;
				top: 0;
				width: 100%;
			}

			.hero-container-link:hover & {
				&:before {
					opacity: .25;
				}

				&:after {
					opacity: .75;
				}
			}
		}
	};
	@hero-block-rs();

/** ================================================================================================
*** §5: Breadcrumb link lists
**/

	@breadcrumb-link-rs: {
		.breadcrumb-list {
			display: flex;
			flex-wrap: wrap;
			list-style-type: none;
			padding-left: 0;
		}

		.breadcrumb-list__breadcrumb {
			&:after {
				content: "/";
				margin-left: .25em;
				margin-right: .25em;
			}
		}

		.breadcrumb-list__link {
			&:not(:hover) {
				box-shadow: none;
				border-bottom-color: transparent;
				color: inherit;
				text-decoration: underline;
			}
		}
	};
	@breadcrumb-link-rs();

/** ================================================================================================
*** §6: Arrowed bullet lists
**/
	@arrowed-bullet-list-rs: {
		.arrowed-bullet-list {
			list-style-type: none;
			padding-left: 2em;
		}

		.arrowed-bullet-list__item {
			position: relative;

			&:before {
				content: "⇒";
				font-weight: bold;
				position: absolute;
				.transform(~"translateX(-100%) translateX(-.5em)");
			}
		}
	};
	@arrowed-bullet-list-rs();

/** ================================================================================================
*** §7: Text lists
**/

	@text-list-rs: {
		.text-list--double-spaced {
			.text-list__item {
				padding: 0 0 .9em 0;

				&:last-child {
					padding: 0 0 .3em 0;
				}
			}
		}

		.text-list--flush-left {
			padding-left: 1.5em;
		}
	};
	@text-list-rs();
};

.declare-ruleset(@oue-components-ruleset, @oue-rules-wrapper);
