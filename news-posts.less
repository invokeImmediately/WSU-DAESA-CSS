/** ┌────────────────────────────────────────────────────────────────────────────────────────────┐
*** │ FILENAME: news-posts.less                                                                  │
*** │                                                                                            │
*** │ AUTHOR: Daniel Rieck <daniel.rieck@wsu.edu> (https://github.com/invokeImmediately)         │
*** │                                                                                            │
*** │ DESCRIPTION: Includes styles for elements associated with form nodes within OUE pages      │
*** │  built using the WSU Spine theme for WordPress. Styles are designed to accompany or        │
*** │  supersede styling associated with the Spine parent theme.                                 │
*** └────────────────────────────────────────────────────────────────────────────────────────────┘
**/

/** ================================================================================================
*** SEMANTIC CSS FOR STYLING OUE NEWS POSTS & RELATED COMPONENTS
**/

/**  ───────────────────────────────────────────────────────────────────────────────────────────────
***  TABLE OF CONTENTS:
***  ────────────────────────────────────────────────────────────────────────────────────────────
***  §1: Primary news feed & posts: Articles & components......................................29
***  §2: Primary news feed & posts: Widgets & components......................................115
***  §3: Secondary news feeds (via WSUWP-Content-Syndicate plugin)............................180
***  ───────────────────────────────────────────────────────────────────────────────────────────────
**/

@oue-news-ruleset: {
	@_article-margin: 15px;

/**   ----------------------------------------------------------------------------------------------
***   §1: Primary news feed & posts: Articles & components
**/

	.article-body {
		position: relative;
		line-height: @body-text--lHeight;
	}

	.article-header {
		.blog &,
		.archive.category &,
		.archive.tag &,
		.single-post.post-template-default & {
			background-color: @hex-bright-gray;
			border-bottom: 1px solid rgba(127,127,127,.2);
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
			margin: -1em;
			padding-left: 1em;
			padding-right: 1em;
			padding-top: 1em;

			& + * {
				margin-top: 1em;
				padding-top: 15px;
			}
		}

		.column & .article-title,
		.column & .article-title {
			font-size: @v-p-sz * 1.5;
			line-height: @v-hX-lnhght;
		}
	}

	.article-summary {
		line-height: @body-text--lHeight;

		.article-media-contacts,
	    .article-sidebar,
		img,
		object,
		& > h3,
		.photo-caption {
	        display: none;
	    }

	    .attachment-spine-thumbnail_size {
	        display: block;
	    }
	}

	.column .article-summary {
		.article-media-contacts + :not(.article-media-contacts) {
			margin-top: 0;
		}
	}

	.single-post {
		.article-media-contacts {
			font-size: 0.9em;
		}

		.column .article-media-contacts + :not(.article-media-contacts) {
			border-top: 1px solid rgba(127,127,127,.2);
			padding-top: @_article-margin;
		}

		.main-header + .featured-image {
			display: none;
		}
	}

	.single-post,
	.summary-divided {
		.article-header,
		.article-header .article-title {
			margin-bottom: @_article-margin;
		}

		.article-footer {
			margin-top: @_article-margin;
		}
	}

/**   ----------------------------------------------------------------------------------------------
***   §2: Primary news feed & posts: Widgets & components
**/

	.widget {
		background-color: extract(@colors--grays__hex, @colors__lightest);
		border-radius: 5px;
		box-shadow:	0 0 0 1px rgba(255,255,255,.9),
					0 0 0 2px rgba(0,0,0,.2),
					3px 4px 4px rgba(0,0,0,.25) !important;
		.padding(@pSize-500mx, "all");

		&.widget_recent_entries {
			font-size: 0.8rem;
			ul {
				padding: 0.75em 0 0 1em;
				li {
					padding-bottom: 0.5em;
					a {
						border-bottom: none;
						box-shadow: none;
					}
				}
			}
			.post-date {
				&:before {
					font-weight: bold;
					content: "/ ";
				}
			}
		}

		&.widget_tag_cloud {
			a {
				border-bottom: none;
				box-shadow: none;
			}
		}

		& + & {
			margin-top: @v-dflt-spcng;
		}

		header {
			background-color: @hex-lighter-gray;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
			border-bottom: 1px solid rgba(103,103,103,.2);
			font-size: 1rem;
			font-weight: bold;
			margin: -1rem -1rem 0.5rem;
			padding: 0.5rem 1rem;
		}

		ul li {
			list-style: disc inside none;
		}
	}

	.widget_archive {
		label.screen-reader-text {
			display: none;
		}
	}

/**   ----------------------------------------------------------------------------------------------
***   §3: Secondary news feeds (via WSUWP-Content-Syndicate plugin)
**/

	.wsuwp-json--headlines {
		.content-item-byline-author {
			display: none;
		}

		.content-item-byline-date {
			@spacing: 0.5em;

			display: block;
			padding-bottom: (@spacing / 2);
			margin-top: @spacing;
			margin-bottom: (@spacing * 1.5);
			color: #737373;
			text-transform: uppercase;

			&:before {
				content: "Posted on ";
			}
		}

		.content-item-excerpt {
			.article-media-contacts,
			.article-sidebar,
			.photo-caption,
			.more-link,
			img,
			object,
			& > h3 {
				display: none;
			}

			.content-item-read-story {
				display: inline-block;
			}

			& > * + *,
			.content-item-read-story {
				.margin(@mSize-1000mx, "top");
			}
		}

		.content-item-title {
			@lHeight-temp: extract(@lHeight-array, @lHeight-933mx);

			.font-size(@fSize-1325mx);
			font-weight: bold;
			.line-height(@lHeight-933mx);
			line-height: ~"calc(@{lHeight-temp} + 1px)";
			a {
				border-bottom-color: transparent;
				box-shadow: none;
				text-decoration: underline;

				&:hover {
					text-decoration: none;
				}
			}
		}

		.content-item-thumbnail {
			float: right;
			.margin(@mSize-500mx, "bottom");
			.margin(@mSize-500mx, "left");
			max-width: 136px;
			min-width: 96px;
			width: 28.5%;
		}

		.wsuwp-content-syndicate-item {
			box-sizing: border-box;
			line-height: @body-text--lHeight;
			list-style-image: none !important;			
		}

		* + .wsuwp-content-syndicate-item {
			margin-top: 1em;
		}

		.wsuwp-content-syndicate-list {
			display: flex;
			flex-wrap: wrap;
			list-style-type: none;
			padding: 0;
		}

		&.layout--2-columns {
			.wsuwp-content-syndicate-list {
				.font-size(@fSize-900mx);
			}

			.wsuwp-content-syndicate-item {
				.padding(@pSize-1000mx, "bottom");
				.padding(@pSize-1000mx, "right");
				width: 50%;
			}
		}
	}
};

.declare-ruleset(@oue-news-ruleset, @oue-rules-wrapper);
