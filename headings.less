/** ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
*** │ FILENAME: headings.less                                                                      │
*** │                                                                                              │
*** │ SUMMARY: Semantic CSS for styling heading elements on WSU DAESA websites.                    │
*** │                                                                                              │
*** │ AUTHOR: Daniel Rieck <daniel.rieck@wsu.edu> (https://github.com/invokeImmediately)           │
*** │                                                                                              │
*** │ DESCRIPTION: Contains style rules for presenting headings on WSU Office of Undergraduate     │
*** │   Education web pages built using the builder template of the Spine parent theme of WSUWP.   │
*** │   Styles are designed to accompany or supersede styling associated with the theme.           │
*** └──────────────────────────────────────────────────────────────────────────────────────────────┘
***  TABLE OF CONTENTS:
***  ────────────────────────────────────────────────────────────────────────────────────────────
***  §1: h2 elements...........................................................................35
***  §2: h3 elements...........................................................................96
***  §3: hN elements..........................................................................140
***  §4: Utility class compatible defaults....................................................161
***    >>> §4.1: Font family and weight, plus spacing.........................................165
***    >>> §4.2: Font sizing..................................................................185
***    >>> §4.3: Line heights.................................................................214
***    >>> §4.4: Coloring.....................................................................231
***       →→→ §4.4a: Defaults.................................................................235
***       →→→ §4.4b: Utility classes..........................................................328
***    >>> §4.5: Indentation..................................................................447
***  ───────────────────────────────────────────────────────────────────────────────────────────────
**/

/** ================================================================================================
*** SEMANTIC CSS FOR STYLING OUE HEADING ELEMENTS
**/

@oue-heading-ruleset: {

/**   ----------------------------------------------------------------------------------------------
***   §1: h2 elements
**/

	h2 {
		.column & {
			&.article-title {
				font-size: @v-h2-sz * 0.4;
				line-height: @v-hX-lnhght;
			}
		}

		.column.show-header.has-fancy-header > header:first-child > & {
			&{ background-color: @rgba; .getRgbaStr(@hex-dark-gray, 0.2); }
			&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
					0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
					0.225) );
				.rgb-dark-gray(); }
			&{ border-bottom: 2px solid @rgba; .getRgbaStr(@hex-dark-gray, 0.075); }
			margin-bottom: (@v-dflt-spcng / 2);
			margin-left: (-1 * @v-dflt-spcng / 4);
			margin-right: (-1 * @v-dflt-spcng / 4);
			padding: (@v-dflt-spcng / 6) (@v-dflt-spcng / 4) (@v-dflt-spcng * 11 / 40);
			position: relative;
		}

		.column.show-header.has-fancy-header > header:first-child > & {
			padding-top: 0.5rem;

			&:not(:first-child) {
				margin-top: @v-dflt-spcng;
			}

			&::before {
				border-bottom: 1px solid rgba(@rval,@gval,@bval,0.3333);
				border-top-width: 2px;
				border-top: 1px solid rgba(@rval,@gval,@bval,0.6667);
				content: "";
				height: 0;
				left: 0;
				position: absolute;
				.rgb-darker-gray();
				top: 0;
				width: 100%;
			}
		}

		.column h1 + & {
			font-style: italic;
		}

		.column hr:not(.subSection) + h2 {
			margin-top: 0;
		}
	}

	// TODO: move to hyperlink.less
	h2.article-title a {
		border-bottom: none;
	}

/**   ----------------------------------------------------------------------------------------------
***   §2: h3 elements
**/

	h3 {
		.column.show-header.has-lowercase-header > header:first-child > & {
			text-transform: none;
		}

		.column.show-header.has-fancy-header > header:first-child > & {
			&{ background-color: @rgba; .getRgbaStr(@hex-light-crimson, 0.075); }
			&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
					0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
					0.225));
				.rgb-light-crimson(); }
			&{ border-bottom: 2px solid @rgba; .getRgbaStr(@hex-light-crimson, 0.075); }
			margin-bottom: (@v-dflt-spcng / 2);
			margin-left: 0;
			margin-right: 0;
			padding: (@v-dflt-spcng / 6) (@v-dflt-spcng / 4) (@v-dflt-spcng * 9 / 40) 0;
			position: relative;
		}

		.column.show-header.has-fancy-header > header:first-child > & {
			padding-top: 0.4375rem;

			&:not(:first-child) {
				margin-top: @v-dflt-spcng;
			}

			&::before {
				border-bottom: 1px solid rgba(@rval,@gval,@bval,0.375);
				border-top: 1px solid rgba(@rval,@gval,@bval,0.67);
				content: "";
				height: 0;
				left: 0;
				position: absolute;
				.rgb-crimson();
				top: 0;
				width: 100%;
			}
		}
	}

/**   ----------------------------------------------------------------------------------------------
***   §3: hN elements
**/

	section {
		&.side-right, &.row.side-right {
			.column.one h2.fancy,
			.column.one h3.fancy {
				@media all and (min-width: (@column-floating-threshold + 1)) {
					margin-right: 0;
				}
			}
		}
	}

	.hN--subtitle {
		display: block;
		.font-size(@fSize-600mx);
		.line-height(@lHeight-917mx);
	}

/**   ----------------------------------------------------------------------------------------------
***   §4: Utility-class compatible defaults
**/

/**     ····························································································
***     >>> §4.1: Font family and weight, plus spacing
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		.ff--condensed;
		font-weight: bold;
		margin: 0;
		padding: 0;

		* + & {
			margin-top: extract(@mSize-array, @spacing-1000mx);
		}
	}

/**     ····························································································
***     >>> §4.2: Font sizing
**/

	// @hN-font-size variables defined in utility-mixins.less
	h1 {
		.font-size(@h1-font-size);
	}

	h2 {
		.font-size(@h2-font-size);
	}

	h3 {
		.font-size(@h3-font-size);
	}

	h4 {
		.font-size(@h4-font-size);
	}

	h5 {
		.font-size(@h5-font-size);
	}

	h6 {
		.font-size(@h6-font-size);
	}

/**     ····························································································
***     >>> §4.3: Line heights
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		.line-height(@lHeight-733mx);

		&.linked-text {
			.line-height(@lHeight-917mx);
		}
	}

/**     ····························································································
***     >>> §4.4: Coloring
**/

/**        · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · ·
***        →→→ §4.4a: Defaults
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		color: @hex-crimson;
	}

	h1 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-black, 0.9); }
			&{ background: linear-gradient(to right, rgba(@rval, @gval, @bval, 0.8) 50%, 
					rgba(@rval, @gval, @bval, 1));
				.rgb-black(); }
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-black, 0.333); }
			color: @hex-white;

			&::before {
				border-top: 2px solid rgba(@rval, @gval, @bval,1);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.5);
				.rgb-black();
			}
		}
	}

	h2 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-crimson, 0.9); }
			background: linear-gradient(to right, @hex-crimson 50%, @hex-dark-crimson);
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-dark-crimson, 0.5); }
			color: @hex-white;

			&::before {
				border-bottom: 1px solid rgba(@rval, @gval, @bval,0.5);
				border-top: 2px solid rgba(@rval, @gval, @bval, 1);
				.rgb-dark-crimson();
			}
		}
	}

	h3 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-light-crimson, 0.075); }
			&{ background: linear-gradient(to right,
					transparent,
					rgba(@rval, @gval, @bval, 0.075) 5%,
					rgba(@rval, @gval, @bval, 0.075) 50%,
					rgba(@rval, @gval, @bval, 0.225));
				.rgb-light-crimson(); }
			&{ border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-light-crimson, 0.075); }
			color: @hex-crimson;

			&::before {
				.rgb-crimson();
				border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
			}
		}
	}

	h4 {
		&.solid {
			&{ background-color: @rgba;
				.getRgbaStr(@hex-dark-gray, 0.2); }
			&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
					0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
					0.225));
				.rgb-dark-gray(); }
			& { border-bottom: 2px solid @rgba;
				.getRgbaStr(@hex-dark-gray, 0.075); }
			color: @hex-darker-gray;

			&::before {
				.rgb-darker-gray();
				border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
				border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
			}
		}
	}

// TODO: Apply default coloring styles to h5 and h6

/**        · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · · ·
***        →→→ §4.4b: Utility classes
**/

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		&.solid {
			padding: .15em .25em .2em 5px;
			position: relative;

			&::before {
				content: "";
				height: 100%;
				left: 0;
				position: absolute;
				top: 0;
				width: 100%;
			}
		}

		&.white-text {
			color: @hex-white;
			&.solid,
			&.solid.black-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-black, 0.9); }
				&{ background: linear-gradient(to right, rgba(@rval, @gval, @bval, 0.8) 50%, 
						rgba(@rval, @gval, @bval, 1));
					.rgb-black(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-black, 0.333); }

				&::before {
					border-bottom: 1px solid @hex-black;
					border-top: 2px solid @hex-black;
				}
			}

			&.solid.dark-crimson-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-crimson-scale-darker, 0.9); }
				background: linear-gradient(to right, 
					@hex-crimson-scale-darker 50%, 
					@hex-darker-crimson);
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-darker-crimson, 0.5); }

				&::before {
					border-bottom: 1px solid rgba(@rval, @gval, @bval,0.5);
					border-top: 2px solid rgba(@rval, @gval, @bval, 1);
					.rgb-darker-crimson();
				}
			}

			&.solid.crimson-background {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-crimson, 0.9); }
				background: linear-gradient(to right, @hex-crimson 50%, @hex-dark-crimson);
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-dark-crimson, 0.5); }

				&::before {
					border-bottom: 1px solid @hex-dark-crimson;
					border-top: 2px solid @hex-dark-crimson;
				}
			}
		}

		&.gray-text {
			color: @hex-darker-gray;

			&.solid {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-dark-gray, 0.2); }
				&{ background: linear-gradient(to right, transparent, rgba(@rval, @gval, @bval, 
						0.075) 5%, rgba(@rval, @gval, @bval, 0.075) 50%, rgba(@rval, @gval, @bval, 
						0.225));
					.rgb-dark-gray(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-dark-gray, 0.075); }

				&::before {
					.rgb-darker-gray();
					border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
					border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
				}
			}
		}

		&.crimson-text {
			color: @hex-crimson;

			&.solid {
				&{ background-color: @rgba;
					.getRgbaStr(@hex-light-crimson, 0.075); }
				&{ background: linear-gradient(to right,
						transparent,
						rgba(@rval, @gval, @bval, 0.075) 5%,
						rgba(@rval, @gval, @bval, 0.075) 50%,
						rgba(@rval, @gval, @bval, 0.225));
					.rgb-light-crimson(); }
				&{ border-bottom: 2px solid @rgba;
					.getRgbaStr(@hex-light-crimson, 0.075); }

				&::before {
					.rgb-crimson();
					border-top: 2px solid rgba(@rval, @gval, @bval, 0.6667);
					border-bottom: 1px solid rgba(@rval, @gval, @bval, 0.3333);
				}
			}
		}
	}

// TODO: Create additional coloring classes

/**     ····························································································
***     >>> §4.5: Indentation
**/

	.hX--indent-1 {
		max-width: ~"calc(100% - 2rem)";
	}

	.hX--indent-2 {
		max-width: ~"calc(100% - 4rem)";
	}

	.hX--indent-3 {
		max-width: ~"calc(100% - 6rem)";
	}
};

.declare-ruleset(@oue-heading-ruleset, @oue-rules-wrapper);
