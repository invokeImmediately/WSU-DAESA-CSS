/** ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
*** │ FILENAME: headers.less                                                                       │
*** │                                                                                              │
*** │ SUMMARY: Semantic CSS for styling main and article headers.                                  │
*** │                                                                                              │
*** │ DESCRIPTION: Embodies style rules for presenting headers on WSU Office of Undergraduate      │
*** │   Education web pages built using the builder template of the Spine parent theme of WSUWP.   │
*** │   Styles are designed to accompany or supersede styling associated with the theme.           │
*** │                                                                                              │
*** │ AUTHOR: Daniel Rieck <daniel.rieck@wsu.edu> (https://github.com/invokeImmediately)           │
*** │                                                                                              │
*** │ LICENSE: ISC - Copyright (c) 2020 Daniel C. Rieck.                                           │
*** │                                                                                              │
*** │   Permission to use, copy, modify, and/or distribute this software for any purpose with or   │
*** │   without fee is hereby granted, provided that the above copyright notice and this           │
*** │   permission notice appear in all copies.                                                    │
*** │                                                                                              │
*** │   THE SOFTWARE IS PROVIDED "AS IS" AND DANIEL C. RIECK DISCLAIMS ALL WARRANTIES WITH REGARD  │
*** │   THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT │
*** │   SHALL DANIEL C. RIECK BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL        │
*** │   DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN  │
*** │   AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN           │
*** │   CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.                                   │
*** └──────────────────────────────────────────────────────────────────────────────────────────────┘
***  TABLE OF CONTENTS:
***  ────────────────────────────────────────────────────────────────────────────────────────────
***    §1: Main header and components..........................................................36
***      >>> §1.1: DAESA styled main headers...................................................40
***      >>> §1.2: Provost Office styled main headers..........................................98
***    §2: UP CMS style article headers.......................................................177
***    §3: Sectional article headers..........................................................302
***  ───────────────────────────────────────────────────────────────────────────────────────────────
**/

/** ================================================================================================
*** §1: Main header and components
**/

/**   ----------------------------------------------------------------------------------------------
***   >>> §1.1: DAESA styled main headers
**/

@ruleset__daesa-main-headers: {
	.main-header {
		height: auto;

		@media print {
			background: none !important;
			border-bottom: 1px solid black;
			border-top: 1px solid black;
			margin-bottom: 1em;
			padding-top: 1em;
		}

		.header-group {
			padding-top: 1rem;
			position: relative;

			&.guttered {
				.declare-mobile-layout(
					{
						padding-left: (@v-dflt-spcng / 2);
						padding-right: (@v-dflt-spcng / 2);
					},
					{
						padding-left: (@v-dflt-spcng / 4);
						padding-right: (@v-dflt-spcng / 4);
					}
				);
			}
		}

		.sup-header-default {
			@scaling-indices: 2, 3, 3, 2, 3, 4;
			.has-responsive-font( 0.9rem, false, @default-scaling-factors, @scaling-indices );
			margin-bottom: .5rem;
		}

		.sub-header-default,
		.sub-header {
			@scaling-indices: 2, 3, 3, 2, 4, 5;
			@mh-scaling-factors: 1.1, 1.0, 0.9, 0.76, 0.68;
			.has-responsive-font( (2.5rem * 16 / 17), 1em, @mh-scaling-factors, @scaling-indices );
		}

		.sup-header-default,
		.sub-header-default {
			@media print {
				text-shadow: none;
				color: black;
			}			
		}
	}
};
.declare-ruleset(@ruleset__daesa-main-headers, @oue-rules-wrapper, @use-design__daesa-main-headers);

/**   ----------------------------------------------------------------------------------------------
***   >>> §1.2: Provost Office styled main headers
**/

@ruleset__provost-main-headers: {
	.main-header {
		background: rgb(130,12,35,1);
		background: -moz-linear-gradient(left,rgba(130,12,35,1) 0%,rgba(166,15,45,1) 100%);
		background: -webkit-linear-gradient(left,rgba(130,12,35,1) 0%,rgba(166,15,45,1) 100%);
		background: linear-gradient(to right,rgba(130,12,35,1) 0%,rgba(166,15,45,1) 100%);
		color: @hex-white !important;
		filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#820c23',endColorstr='#a60f2d',GradientType=1);
		height: auto;
		padding: 1rem 0;
		position: relative;

		sub,
		sup {
			&:not(.unset) {
				color: @hex-white !important;
				font-family: 'Open Sans', sans-serif;
			}
		}

		.header-group {
			padding-top: 1em !important;
			position: relative;

			&:not(.unset) {
				font-size: 13px;
				line-height: 1em;
				padding: .7em 2rem;
				position: relative;
			}
		}

		.sub-header,
		.sup-header {
			display: inline-block;

			@media screen and (max-width: @spine-threshold) {
				display: block;
			}
		}

		.sub-header,
		.sup-header,
		.sub-header-default,
		.sup-header-default {
			font-size: inherit !important;
		}

		.sub-header-default {
			border-left: 1px solid #fff;
			font-weight: 300;
			margin-left: 1em;
			padding-left: 1.25em;
			color: #fff;

			@media screen and (max-width: @spine-threshold) {
				border-left: 0;
				margin-left: 0;
				padding-left: 0;
			}
		}

		.sub-header-default,
		.sup-header-default {
			text-transform: uppercase;
			width: auto;
		}

		.sup-header-default {
			font-weight: bold;
		}
	}
};
.declare-ruleset(@ruleset__provost-main-headers, @oue-rules-wrapper,
	@use-design__provost-main-headers);

/** ================================================================================================
*** §2: UP CMS style article headers
**/

@ruleset__up-cms-headers: {
	.article-header:not(.row) {
		background-size: auto 100% !important;
		
		&:not([class*="h--"]) {
			height: 120px;

			.post & {
				height: auto;
			}
		}

		&:not([class*="mw--"]) {
			max-width: 922px;
		}

		.header-content {
			margin-left: 1rem;
			margin-right: 1rem;
			position: relative;
			top: 50%;
			.transform(~"translateY(-50%)");

			&.align-bottom {
				top: 50%;
				.transform(~"translateY(-100%) translateY(-1rem)");
			}

			h1,
			h2,
			h3 {
				font-size: 2.826rem;
				line-height: 0.9em;
				text-transform: uppercase;
			}

			h1 + h2 {
				font-style: normal;
			}

			h1 + h2,
			h2 + h3,
			h1 .subtitle {
				font-size: 1.261rem;
				line-height: 0.9em;
				margin-top: 0;
			}

			.title,
			h2:first-child {
				background-color: rgba(0, 0, 0, 0.7);
				border: 1px solid white;
				border-bottom-color: transparent;
				padding: 4px 4px 9px;
			}

			.title,
			.subtitle {
				display: block;
			}
		}

		@media all {
			.header-content {
				h1,
				h2 {
					.ff--condensed;
					color: @hex-white;
				}

				h3 {
					color: @hex-white;
				}

				h1 {
					.textShadow3D(@hex-white, 3px);
				}

				h2 {
					.textShadow3D(@hex-white, 3px);
				}

				h1 + h2,
				h3,
				h1 .subtitle {
					.textShadow3D(@hex-white, 2px);
				}

				h1 + h2,
				h2 + h3,
				.subtitle {
					.rgb-crimson();
					background-color: rgba(@rval,@gval,@bval,0.95);
					border: 1px solid white;
					padding: 4px 4px 5px;
				}

				.highlight {
					.textShadow3D(#AEC7CB,2px);
				}
			}
		}

		@media print {
			background: transparent !important;

			.header-content {
				margin-left: 0;
				margin-right: 0;

				h2,
				h3 {
					padding-left: 0;
				}
			}
		}
	}
};

.declare-ruleset(@ruleset__up-cms-headers, @oue-rules-wrapper, @use-design__up-cms-headers);

/** ================================================================================================
*** §3: Sectional article headers (inclusional via Less mixin)
**/

.use-sectional-article-headers() {
	.use-short-main-header-on-pages(@header-height: 85px, @header-padding: 1em) {
		body.page:not(.home) main.spine-blank-template > header.main-header {
			@header-height: 85px;

			& > div.header-group {
				padding-bottom: @header-padding !important;
			}
		}
	}

	.row.halves.article-header,
	.row.single.article-header {
		position: relative;

		&.gutter .column:not(.gutterless) {
			padding-left: 0;
			padding-right: 0;
		}

		&.pad-top .column {
			padding-top: 0;
		}
	}

	.row.article-header {
		&:not([class*="h--"]) {
			height: 200px;

			&.halves {				
				@media all {
					@media (max-width: @large-mobile-screen-width) {
						height: 340px;
					}
				}
			}
		}

		&:not(.article-header--colored) {
			.column.one {
				color: #4c4c4c;

				@media screen {
					background: @hex-bright-gray;
				}			
			}
		}

		@media print {
			height: auto;
		}

		.column {
			height: 100%;

			@media print {
				position: static;
				height: auto;
				padding: @v-dflt-spcng;
			}

			& > :first-child,
			header:first-child + * {
				left: @v-dflt-spcng;
				position: absolute;
				right: @v-dflt-spcng;
				top: 50%;
				.transform(~"translateY(-50%) translateY(-.5em)");

				@media all {
					@media (max-width: @column-floating-threshold) {
						right: (@v-dflt-spcng / 2);
					}

					@media (max-width: @large-mobile-screen-width) {
						left: (@v-dflt-spcng / 2);
					}

					@media (max-width: @mobile-screen-width) {
						left: (@v-dflt-spcng / 4);
					}

					@media print {
						position: static;
						.transform(~"none");
					}
				}

				&:before{
					background: #a31d36;
					bottom: -1rem;
					content: "";
					height: 6px;
					left: 0;
					position: absolute;
					width: 40px;
				}

				& > :last-child {
					margin-bottom: 0 !important;
				}

			}

			h1 {
				color: inherit;
				line-height: .95em;
				margin: 0;

				@media print {
					color: black;
					text-shadow: none;
				}

				& + .subtitle {
					color: inherit;
					font-size: 1.25em;
					font-weight: bold;
					line-height: 1.1em;
					text-shadow: 0 0 2px @hex-black, 0 0 2px @hex-black, 0 0 2px @hex-black;
					text-transform: uppercase;
				}
			}

			.parent-page {
				color: @hex-darker-gray;
				margin-bottom: 0.125em;

				@media print {
					color: black;
				}
			}

			& > :not(:first-child):not(header:first-child + *) {
				display: none;
			}

			& > :not(h1):not(div) {
				display: none;
			}
		}

		&.halves .column {
			&.one {
				left: 0;
				right: 40%;

				@media screen {
					@media (max-width: @large-mobile-screen-width) {
						right: 0;
						height: 50%;
						top: 50%;
					}
				}

				h1 {
					@media all and (max-width: @column-floating-threshold) {
						font-size: 6.5vw;
					}

					& + .subtitle {
						@media all and (max-width: @column-floating-threshold) {
							font-size: 4vw;
						}
					}
				}

				.parent-page {
					@media screen and (max-width: @column-floating-threshold) {
						font-size: 3.25vw;
					}
				}
			}

			&.one,
			&.two {
				background-position: center center;
				background-size: cover;
				padding-left: 0;
				padding-right: 0;
				position: absolute;
				width: auto;
			}

			&.two {
				background-color: @hex-gray;
				left: 60%;
				margin-top: 0 !important;
				right: 0;

				@media all {
					@media (max-width: @large-mobile-screen-width) {
						height: 50%;
						left: 0;
						top: 0;
					}
				}

				@media print {
					display: none;
				}
			}

			&.one, &.two {
				@media all and (max-width: @column-floating-threshold) {
					clear: none;
					float: left;
				}
			}
		}

		&.single {
			.column.one {
				right: 0;
			}
		}
	}
}
